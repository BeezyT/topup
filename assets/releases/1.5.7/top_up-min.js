if(typeof(TopUp)=="undefined"){var scriptElement=(function deriveScriptElement(){var c="tu_dummy_script";document.write('<script id="'+c+'"><\/script>');var b=document.getElementById(c);var a=b.previousSibling;b.parentNode.removeChild(b);return a}());var scriptHost=(function deriveScriptHost(){var a=scriptElement.getAttribute("src");return a.match(/^\w+\:\/\//)?a.match(/^\w+\:\/\/[^\/]*\//)[0]:""}());TopUp=(function(){var j=false,f=null,c=[],t=false,q=null,n=null,x=null,I=null;var i={layout:"dashboard",effect:"transform",resizable:1},H={};var h=function(){jQuery.extend({keys:function(N){var M=[];for(var L in N){if(N.hasOwnProperty(L)){M.push(L)}}return M},ie:jQuery.browser.msie,ie6:jQuery.browser.msie&&parseInt(jQuery.browser.version,10)==6,ie7:jQuery.browser.msie&&parseInt(jQuery.browser.version,10)==7,ff2:jQuery.browser.mozilla&&parseFloat(jQuery.browser.version)<1.9});jQuery.fn.extend({id:function(){if(!this.is("[id]")){var M="";var L=0;do{M="element_"+L++}while(jQuery("#"+M).length);jQuery(this).attr("id",M)}return jQuery(this).attr("id")},bubbleDetect:function(L,O){var M=null;var N=this;jQuery.each(L.split(O||","),function(Q,R){var P=jQuery.trim(R);if(jQuery(P).index(N)!=-1){M={element:jQuery(N),selector:P}}});return M||(N.parent()[0]?jQuery(N.parent()[0]).bubbleDetect(L,O):null)},center:function(){var L={top:parseInt((jQuery(window).height()-this.outerHeight())/2,10)+jQuery(window).scrollTop(),left:parseInt((jQuery(window).width()-this.outerWidth())/2,10)+jQuery(window).scrollLeft(),position:"absolute"};this.css(L);return this},lockDimensions:function(){this.css({width:this.outerWidth(),height:this.outerHeight()});return this},unlockDimensions:function(){this.css({width:"auto",height:"auto"});return this},centerWrap:function(M){var O={width:this.outerWidth(),height:this.outerHeight()},Q={width:0,height:0},N=0;N=M.outerWidth()-O.width;if(Q.width<N){Q.width=N}N=M.outerHeight()-O.height;if(Q.height<N){Q.height=N}var P=this.offset();var L={top:P.top-(Q.height===0?0:parseInt(Q.height/2,10)),left:P.left-(Q.width===0?0:parseInt(Q.width/2,10)),width:this.width()+Q.width,height:this.height()+Q.height};if(q.x){L.left=q.x-parseInt((L.width-M.outerWidth())/2,10)}if(q.y){L.top=q.y-parseInt((L.height-M.outerHeight())/2,10)}jQuery("#tu_center_wrapper").css(L);jQuery("#tu_centered_content").append(this);this.css({top:"auto",left:"auto",width:"auto",height:"auto",display:"inline-block",position:"relative"});if(jQuery.ff2){this.css({display:"table"})}if(jQuery.ie){this.css({display:"inline"})}jQuery("#tu_center_wrapper").show();return this},removeCenterWrap:function(){var L=jQuery("#tu_center_wrapper").offset();var M={width:jQuery("#tu_center_wrapper").outerWidth()-this.outerWidth(),height:jQuery("#tu_center_wrapper").outerHeight()-this.outerHeight()};this.css({top:L.top+parseInt(M.height/2,10),left:L.left+parseInt(M.width/2,10),position:"absolute"}).appendTo("body");jQuery("#tu_center_wrapper").hide();return this},draggable:function(M){var L=this;this.mousedown(function(N){if(M&&M.only&&!jQuery(N.target).is(M.only)){return}N.preventDefault();var P=L.offset();var O={top:N.pageY-P.top,left:N.pageX-P.left};jQuery("body").addClass("tu_dragging");jQuery("*").bind("mousemove.draggable",function(Q){L.css({top:Q.pageY-O.top,left:Q.pageX-O.left})})});jQuery("#top_up").mouseup(function(N){jQuery("body").removeClass("tu_dragging");jQuery("*").unbind("mousemove.draggable")})}})};var s=function(){var M=TopUp.host+TopUp.images_path;var O='<style type="text/css" media="screen"> .tu_overflow { overflow: hidden !important; } .tu_dragging { cursor: move !important; } #tu_overlay, .tu_top_up { top: 0px; left: 0px; } #tu_overlay { width: 100%; height: 100%; position: fixed; z-index: 999; } #temp_up { top: -9999px; z-index: -1; } .tu_transparent { opacity: 0; } .tu_shaded { opacity: .65; background: black; } .tu_scrollable { overflow: auto; } .tu_top_up { position: absolute; z-index: 1000; } .tu_top_up a, .tu_top_up a:hover { border: 0px; } .tu_top_up .ui-resizable-se { position: absolute !important; background-color: transparent !important; border: 0px !important; } .tu_wrapper { position: relative; } .tu_title { width: 100%; color: white; font-family: "Lucida Grande", "Arial"; font-size: 11px; position: absolute; text-align: center; z-index: 1001; } .tu_frame, #tu_center_wrapper { border-collapse: collapse; } .tu_frame tr, .tu_frame td { margin: 0px; padding: 0px; } .tu_frame .tu_left, .tu_frame .tu_middle, .tu_frame .tu_right { padding: 0px; } .tu_controls { position: absolute; z-index: 1001; } .tu_close_link, .tu_previous_link, .tu_next_link { cursor: pointer; } .tu_close_link { position: absolute; z-index: 1002; } .tu_previous_link, .tu_next_link { display: block; float: left; } #tu_center_wrapper { position: absolute; z-index: 1000; } #tu_loader { width: 100%; height: 100%; position: absolute; background: url('+M+"loader.gif) no-repeat 50% 50%; z-index: 1003; } #top_up .tu_dashboard .ui-resizable-se { width: 10px !important; height: 10px !important; bottom: 12px !important; right: 10px !important; background-image: url("+M+"dashboard/sprite.png) !important; background-position: 0px 0px !important; } .tu_dashboard .tu_title { top: -9px; font-weight: bold; } .tu_dashboard .tu_corner, .tu_dashboard .tu_rib { background-image: url("+M+"dashboard/sprite.png); } .tu_dashboard .tu_top, .tu_dashboard .tu_bottom { height: 20px; } .tu_dashboard .tu_left_filler { width: 20px; } .tu_dashboard .tu_right_filler { width: 19px; } .tu_dashboard .tu_middle .tu_middle { background: url("+M+"dashboard/middle.png); } .tu_dashboard .tu_top .tu_left { background-position: -17px -29px; } .tu_dashboard .tu_top .tu_middle { background-position: 0px -71px; } .tu_dashboard .tu_top .tu_right { background-position: -33px -29px; } .tu_dashboard .tu_middle .tu_left { background-position: -17px -232px; } .tu_dashboard .tu_middle .tu_right { background-position: -33px -232px; } .tu_dashboard .tu_bottom .tu_left { background-position: -17px -47px; } .tu_dashboard .tu_bottom .tu_middle { background-position: -17px -89px; } .tu_dashboard .tu_bottom .tu_right { background-position: -33px -47px; } .tu_dashboard .tu_content { margin: -11px -12px -11px -13px; } .tu_dashboard .tu_controls { left: 50%; width: 63px; height: 29px; margin-left: -33px; padding-left: 5px; bottom: 35px; background-image: url("+M+"dashboard/sprite.png); background-position: 0px -178px; } .tu_dashboard .tu_previous_link, .tu_dashboard .tu_next_link { width: 31px; height: 29px; background-image: url("+M+"dashboard/sprite.png); } .tu_dashboard .tu_previous_link { background-position: 66px -113px; } .tu_dashboard .tu_next_link { background-position: 30px -113px; } .tu_dashboard .tu_previous_link:hover { background-position: 66px -142px; } .tu_dashboard .tu_next_link:hover { background-position: 30px -142px; } .tu_dashboard .tu_close_link { width: 28px; height: 26px; top: -1px; right: -6px; background-image: url("+M+"dashboard/sprite.png); background-position: -20px 0px; } #top_up .tu_quicklook .ui-resizable-se { width: 10px !important; height: 10px !important; bottom: 12px !important; right: 9px !important; background-image: url("+M+"quicklook/sprite.png) !important; background-position: -75px -181px !important; } .tu_quicklook .tu_title { top: 6px; } .tu_quicklook .tu_corner, .tu_quicklook .tu_rib { background-image: url("+M+"quicklook/sprite.png); } .tu_quicklook .tu_top { height: 24px; } .tu_quicklook .tu_bottom { height: 56px; } .tu_quicklook .tu_left_filler, .tu_quicklook .tu_right_filler { width: 12px; } .tu_quicklook .tu_middle .tu_middle { background: url("+M+"quicklook/middle.png); } .tu_quicklook .tu_top .tu_left { background-position: 0px 0px; } .tu_quicklook .tu_top .tu_middle { background-position: 0px -30px; } .tu_quicklook .tu_top .tu_right { background-position: 12px 0px; } .tu_quicklook .tu_middle .tu_left { background-position: 0px -181px; } .tu_quicklook .tu_middle .tu_right { background-position: 12px -181px; } .tu_quicklook .tu_bottom .tu_left { background-position: 0px -122px; } .tu_quicklook .tu_bottom .tu_middle { background-position: 0px -61px; } .tu_quicklook .tu_bottom .tu_right { background-position: 12px -122px; } .tu_quicklook .tu_content { margin: 0px -7px; } .tu_quicklook .tu_controls { left: 50%; width: 66px; margin-left: -33px; bottom: 18px; } .tu_quicklook .tu_previous_link, .tu_quicklook .tu_next_link { width: 31px; height: 29px; margin: 0px 1px; background-image: url("+M+"quicklook/sprite.png); } .tu_quicklook .tu_previous_link { background-position: 89px -195px; } .tu_quicklook .tu_next_link { background-position: 52px -195px; } .tu_quicklook .tu_previous_link:hover { background-position: 89px -226px; } .tu_quicklook .tu_next_link:hover { background-position: 52px -226px; } .tu_quicklook .tu_close_link { width: 13px; height: 13px; top: 7px; left: 9px; background-image: url("+M+"quicklook/sprite.png); background-position: -24px -181px; } </style>";var Q='<style type="text/css" media="screen"> .tu_dashboard .tu_content { margin-bottom: -14px; } </style>';var L='<style type="text/css" media="screen"> .tu_dashboard .tu_content { margin-bottom: -13px; } .tu_dashboard .tu_controls { width: 65px; padding-left: 3px; } .tu_dashboard .tu_top .tu_left, .tu_dashboard .tu_top .tu_middle, .tu_dashboard .tu_top .tu_right, .tu_dashboard .tu_middle .tu_left, .tu_dashboard .tu_middle .tu_right, .tu_dashboard .tu_bottom .tu_left, .tu_dashboard .tu_bottom .tu_middle, .tu_dashboard .tu_bottom .tu_right, .tu_dashboard .tu_controls, .tu_dashboard .tu_previous_link, .tu_dashboard .tu_next_link, .tu_dashboard .tu_close_link { background-image: none; } .tu_dashboard .tu_top .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/top_left.png" , sizingMethod="crop" ); } .tu_dashboard .tu_top .tu_middle { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/top_middle.png" , sizingMethod="scale"); } .tu_dashboard .tu_top .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/top_right.png" , sizingMethod="crop" ); } .tu_dashboard .tu_middle .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/middle_left.png" , sizingMethod="scale"); } .tu_dashboard .tu_middle .tu_middle { filter: alpha(opacity = 75); background: black; } .tu_dashboard .tu_middle .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/middle_right.png" , sizingMethod="scale"); } .tu_dashboard .tu_bottom .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/bottom_left.png" , sizingMethod="crop" ); } .tu_dashboard .tu_bottom .tu_middle { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/bottom_middle.png", sizingMethod="scale"); } .tu_dashboard .tu_bottom .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/bottom_right.png" , sizingMethod="crop" ); } .tu_dashboard .tu_controls { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/controls.png" , sizingMethod="crop" ); } .tu_dashboard .tu_previous_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/previous.png" , sizingMethod="crop" ); } .tu_dashboard .tu_next_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/next.png" , sizingMethod="crop" ); } .tu_dashboard .tu_close_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'dashboard/close_link.png" , sizingMethod="crop" ); } .tu_quicklook .tu_bottom { height: 55px; } .tu_quicklook .tu_controls { width: 67px; } .tu_quicklook .tu_top .tu_left, .tu_quicklook .tu_top .tu_middle, .tu_quicklook .tu_top .tu_right, .tu_quicklook .tu_middle .tu_left, .tu_quicklook .tu_middle .tu_right, .tu_quicklook .tu_bottom .tu_left, .tu_quicklook .tu_bottom .tu_middle, .tu_quicklook .tu_bottom .tu_right, .tu_quicklook .tu_previous_link, .tu_quicklook .tu_next_link, .tu_quicklook .tu_close_link { background-image: none; } .tu_quicklook .tu_top .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/top_left.png" , sizingMethod="crop" ); } .tu_quicklook .tu_top .tu_middle { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/top_middle.png" , sizingMethod="scale"); } .tu_quicklook .tu_top .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/top_right.png" , sizingMethod="crop" ); } .tu_quicklook .tu_middle .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/middle_left.png" , sizingMethod="scale"); } .tu_quicklook .tu_middle .tu_middle { filter: alpha(opacity = 70); background: black; } .tu_quicklook .tu_middle .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/middle_right.png" , sizingMethod="scale"); } .tu_quicklook .tu_bottom .tu_left { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/bottom_left.png" , sizingMethod="crop" ); } .tu_quicklook .tu_bottom .tu_middle { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/bottom_middle.png", sizingMethod="scale"); } .tu_quicklook .tu_bottom .tu_right { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/bottom_right.png" , sizingMethod="crop" ); } .tu_quicklook .tu_previous_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/previous.png" , sizingMethod="crop" ); } .tu_quicklook .tu_next_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/next.png" , sizingMethod="crop" ); } .tu_quicklook .tu_close_link { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+M+'quicklook/close_link.png" , sizingMethod="crop" ); } </style>';var P='<style type="text/css" media="screen"> #tu_overlay { top: expression((ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"); left: expression((ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"); position: absolute; } .tu_transparent { filter: alpha(opacity = 0); } .tu_shaded { filter: alpha(opacity = 65); } .tu_content { position: relative; zoom: 1; } </style>';var N='<div id="tu_overlay" onclick="TopUp.overlayClose()" style="display: none"></div><div id="top_up" class="tu_top_up" style="display: none"><div class="tu_wrapper"><div class="tu_title"></div><table class="tu_frame"><tr class="tu_top"><td class="tu_left tu_corner"><div class="tu_left_filler"></div></td><td class="tu_middle tu_rib"></td><td class="tu_right tu_corner"><div class="tu_right_filler"></div></td></tr><tr class="tu_middle"><td class="tu_left tu_rib"></td><td class="tu_middle"><div class="tu_content"><!-- Content --></div></td><td class="tu_right tu_rib"></td></tr><tr class="tu_bottom"><td class="tu_left tu_corner"></td><td class="tu_middle tu_rib"></td><td class="tu_right tu_corner"></td></tr></table><div class="tu_controls" style="display: none"><a class="tu_previous_link" onclick="TopUp.previous()"></a><a class="tu_next_link" onclick="TopUp.next()"></a></div><a class="tu_close_link" onclick="TopUp.close()" style="display: none"></a></div></div><div id="temp_up" class="tu_top_up tu_transparent"><div class="tu_wrapper"><div class="tu_title"></div><table class="tu_frame"><tr class="tu_top"><td class="tu_left tu_corner"><div class="tu_left_filler"></div></td><td class="tu_middle tu_rib"></td><td class="tu_right tu_corner"><div class="tu_right_filler"></div></td></tr><tr class="tu_middle"><td class="tu_left tu_rib"></td><td class="tu_middle"><div class="tu_content"><!-- Content --></div></td><td class="tu_right tu_rib"></td></tr><tr class="tu_bottom"><td class="tu_left tu_corner"></td><td class="tu_middle tu_rib"></td><td class="tu_right tu_corner"></td></tr></table><div class="tu_controls" style="display: none"><a class="tu_previous_link" onclick="TopUp.previous()"></a><a class="tu_next_link" onclick="TopUp.next()"></a></div><a class="tu_close_link" onclick="TopUp.close()" style="display: none"></a></div></div><table id="tu_center_wrapper" style="display: none"><tr valign="middle"><td id="tu_centered_content" align="center"><!-- Top ups --></td></tr></table><div id="tu_loader" style="display: none"></div>';jQuery(O).prependTo("head");if(jQuery.ie7){jQuery(Q).insertAfter("head > style:first")}if(jQuery.ie6){jQuery(L).insertAfter("head > style:first")}if(jQuery.ie){jQuery(P).insertAfter("head > style:first")}jQuery(N).appendTo("body")};var e=function(){var L=["[class*=x]"];jQuery.each(["db","ql","image","html","dom","iframe","ajax","script"],function(M,N){L.push("[class*=_"+N+"]")});f=jQuery.merge([".top_up","[toptions]","[class^=tu_]:"+L.join(",")],jQuery.keys(H)).join();jQuery(f).bind("click",w);jQuery(document).bind("keypress",m)};var b=function(L){return jQuery.ie7?1:L};var w=function(L){TopUp.displayTopUp(jQuery(L.target));return false};var m=function(L){if(jQuery("#top_up").is(":hidden")){return}switch(L.keyCode){case 27:TopUp.close();break;case 37:TopUp.previous();break;case 39:TopUp.next();break}};var o=function(M,N){var L=jQuery.extend({},{topUp:"#"+M.element.id(),preset:M.selector});jQuery.each(M.element.attr("class").split(/\s/),function(O,P){if(P.match(/^tu_/)){jQuery.each(P.replace(/^tu_/,"").split("_"),function(Q,R){switch(R){case"db":case"ql":L.layout={db:"dashboard",ql:"quicklook"}[R];break;case"image":case"html":case"dom":case"iframe":case"ajax":case"script":L.type=R;break;default:if(R.match(/\dx\d/)){L.width=R.split("x")[0];L.height=R.split("x")[1]}}})}});if(M.element.is("[toptions]")){jQuery.each(M.element.attr("toptions").split(","),function(P,Q){var O=Q.split("=");L[jQuery.trim(O[0])]=jQuery.trim(O[1])})}if(L.noGroup&&parseInt(L.noGroup,10)==1){L.group=null}if(N){L=jQuery.extend(L,N)}return L};var z=function(M,O,N){var L=jQuery.extend({},i);if(O){if(H[O.preset]){L=jQuery.extend(L,H[O.preset])}L=jQuery.extend(L,O)}if(N){L.reference=L.reference?jQuery(L.reference):M;if(!L.type){L.type=L.reference.toLowerCase().match(/\.(bmp|gif|jpg|jpeg|png|tif|wbmp)$/)?"image":"ajax"}q=jQuery.extend({},L)}return L};var a=function(){if(q.group){if(n&&n.name==q.group){return}n={name:q.group,items:jQuery([])};jQuery.each(jQuery(f),function(M,N){if(!jQuery(N).is("[tu_group]")){jQuery(N).attr("tu_group",z(null,o(jQuery(N).bubbleDetect(f))).group)}if(jQuery(N).attr("tu_group")==n.name){n.items=n.items.add(N)}});var L=jQuery.map(n.items,function(N,M){return"#"+jQuery(N).id()});x=q.topUp?jQuery.inArray(q.topUp,L):-1}else{n=null}};var E=function(L){if(n===null){return}x=x+L;if(x<0){x=n.items.length-1}if(x>n.items.length-1){x=0}TopUp.displayTopUp(n.items[x])};var J=function(){jQuery("#top_up .tu_frame").resizable("destroy");jQuery("#top_up .tu_title").fadeOut(b(200));if(!(n&&n.items.length>1)){jQuery("#top_up .tu_controls").fadeOut(b(200))}jQuery(".tu_wrapper").attr("class","tu_wrapper tu_"+q.layout);jQuery(".tu_frame,.tu_content").unlockDimensions();if(parseInt(q.shaded,10)==1){jQuery("#tu_overlay").addClass("tu_shaded")}else{jQuery("#tu_overlay").removeClass("tu_shaded")}if((parseInt(q.modal,10)==1)||(parseInt(q.shaded,10)==1)||(parseInt(q.overlayClose,10)==1)){jQuery("#tu_overlay").show()}else{jQuery("#tu_overlay").hide()}};var u=function(){d();switch(q.type){case"image":q.content=new Image();jQuery(q.content).load(function(){q.content=jQuery(this);D()}).attr("src",q.reference);break;case"html":case"dom":q.content=jQuery(q.reference);break;case"iframe":q.content=jQuery('<iframe src="'+q.reference+'" frameborder="0" border="0"></iframe>');break;case"ajax":case"script":q.content=null;jQuery.ajax({url:q.reference,type:(parseInt(q.post,10)==1)?"POST":"GET",cache:false,async:false,data:q.parameters,dataType:(parseInt(q.type,10)=="ajax")?"html":"script",success:D})}if(jQuery.inArray(q.type,["html","dom","iframe"])!=-1){D()}};var D=function(L){l();if(L){q.content=jQuery(L)}switch(q.type){case"image":case"iframe":q.resize=q.content;jQuery(".tu_content").removeClass("tu_scrollable");break;default:q.resize=jQuery("#temp_up .tu_content");jQuery(".tu_content").addClass("tu_scrollable")}if(jQuery("#top_up").is(":hidden")){A()}else{r()}};var d=function(){var L=jQuery("#top_up");if(jQuery("#top_up").is(":hidden")){L=jQuery(q.topUp);if(!L.length){L=jQuery(document)}else{if(L.children().length>0){L=jQuery(L.children()[0])}}}try{var M={top:L.offset().top,left:L.offset().left,width:L.outerWidth(),height:L.outerHeight()}}catch(N){var M={top:jQuery(window).scrollTop(),left:jQuery(window).scrollLeft(),width:parseInt(jQuery(window).width()/2),height:parseInt(jQuery(window).height()/2)}}jQuery("#tu_loader").css(M).show()};var l=function(){jQuery("#tu_loader").hide()};var A=function(){g();B();K("top_up");jQuery("#top_up").center();if(q.x){jQuery("#top_up").css({left:q.x})}if(q.y){jQuery("#top_up").css({top:q.y})}switch(q.effect){case"fade":jQuery("#top_up").fadeIn(b(300),k);break;case"clip":jQuery("#top_up").show("clip",{direction:"vertical"},500,k);break;default:var M=jQuery(q.topUp);if(M.children().length>0){M=jQuery(M.children()[0])}var L=jQuery("#top_up").find(".tu_content");var N=q.topUp?jQuery.extend({width:M.outerWidth(),height:M.outerHeight()},M.offset()):{top:parseInt(jQuery(window).height()/2)-parseInt(L.height()/2)+jQuery(window).scrollTop(),left:parseInt(jQuery(window).width()/2)-parseInt(L.width()/2)+jQuery(window).scrollLeft(),width:10,height:10};v("from",N,k)}};var r=function(M){var L=jQuery("#top_up .tu_content").lockDimensions().wrapInner("<div></div>").children();L.fadeOut(b(250),function(){K("temp_up");L.remove();if(M){M.apply([],[jQuery("#top_up .tu_content").id()])}else{F();g()}B();jQuery("#top_up").centerWrap(jQuery("#temp_up"));var N={width:jQuery("#temp_up .tu_content").outerWidth(),height:jQuery("#temp_up .tu_content").outerHeight()};jQuery("#top_up .tu_content").animate(N,400,function(){K("top_up");jQuery("#top_up").removeCenterWrap();k()})})};var g=function(){q.content.appendTo("#temp_up .tu_content")};var K=function(M){var L=M=="top_up"?"temp_up":"top_up";jQuery("#"+L+" .tu_content").children().appendTo("#"+M+" .tu_content");if(M=="top_up"){jQuery("#top_up .tu_content").css({width:jQuery("#temp_up .tu_content").css("width"),height:jQuery("#temp_up .tu_content").css("height")})}};var F=function(){jQuery(".tu_content").children().remove()};var v=function(S,M,V){var U=jQuery("#top_up");var Q=U.find(".tu_content");if(S=="from"){U.addClass("tu_transparent").show()}var R=U.offset();var N=Q.offset();var O={width:U.width()-Q.width(),height:U.height()-Q.height()};M.top-=N.top-R.top;M.left-=N.left-R.left;var T={top:U.css("top"),left:U.css("left"),width:U.outerWidth(),height:U.outerHeight()};var L={to:S=="from"?T:M,duration:500};if(S=="from"){L.to.width-=O.width;L.to.height-=O.height}var P=function(){var W=S=="to"?function(){U.fadeOut(b(250),V).removeClass("tu_overflow")}:function(){V.apply();U.removeClass("tu_overflow")};U.animate({top:L.to.top,left:L.to.left},L.duration);q.content.animate({width:L.to.width,height:L.to.height},L.duration,W)};if(S=="from"){U.css({top:M.top,left:M.left});q.content.css({width:M.width,height:M.height});U.hide().addClass("tu_overflow").removeClass("tu_transparent").fadeIn(b(300),P)}else{P.apply()}};var k=function(){var M=b(500);if(parseInt(q.resizable,10)==1){var L={stop:function(){jQuery("#top_up .tu_frame").css({width:"auto",height:"auto"})},handles:"se",minWidth:200,minHeight:75,alsoResize:"#"+q.resize.id(),aspectRatio:q.type=="image"};jQuery("#top_up .tu_frame").resizable(L)}if(jQuery.ie6){jQuery("#top_up .tu_title").css("width",jQuery("#top_up").width())}jQuery("#top_up .tu_title").html(q.title||"").fadeIn(M);if(n&&n.items.length>1&&jQuery("#top_up .tu_controls").is(":hidden")){if(jQuery.ie6){jQuery("#top_up .tu_controls").show()}else{jQuery("#top_up .tu_controls").fadeIn(M)}}if(jQuery("#top_up .tu_close_link").is(":hidden")){if(jQuery.ie6){jQuery("#top_up .tu_close_link").show()}else{jQuery("#top_up .tu_close_link").fadeIn(M)}}G();if(q.ondisplay){q.ondisplay.apply(this,[jQuery("#top_up .tu_content"),I])}t=false};var B=function(M){var L=M?null:p;if(!M){q.resize.unlockDimensions();if(jQuery.inArray(q.type,["image","iframe"])!=-1){jQuery("#temp_up .tu_content").unlockDimensions()}M={};if(q.width){M.width=parseInt(q.width,10)}if(q.height){M.height=parseInt(q.height,10)}if(jQuery.ie6){jQuery("#top_up .tu_title").css("width",jQuery("#temp_up").outerWidth())}}q.resize.css(M);if(L){L.apply()}};var p=function(){if(jQuery("#temp_up").outerHeight()<=jQuery(window).height()-4){return}var L=jQuery("#temp_up").outerHeight()-jQuery("#temp_up .tu_content").height(),M={height:jQuery(window).height()-4-L};if(q.type=="image"){M.width=parseInt(q.content.width()*(M.height/q.content.height()),10)}B(M)};var G=function(){var N=jQuery("#top_up").offset();var M={width:jQuery("#top_up").outerWidth(),height:jQuery("#top_up").outerHeight()};var L={};if(N.top-jQuery(window).scrollTop()<2){L.top=jQuery(window).scrollTop()+2}else{if(N.top+M.height-jQuery(window).scrollTop()>jQuery(window).height()-2){L.top=jQuery(window).scrollTop()+jQuery(window).height()-M.height-2}}if(N.left-jQuery(window).scrollLeft()<2){L.left=jQuery(window).scrollLeft()+2}else{if(N.left+M.width-jQuery(window).scrollLeft()>jQuery(window).width()-2){L.left=jQuery(window).scrollLeft()+jQuery(window).width()-M.width-24}}if(jQuery.keys(L).length>0){jQuery("#top_up").animate(L,300)}};var C=function(N){var M=b(250);var L=function(){y(N)};jQuery("#top_up .tu_title").fadeOut(M);jQuery("#top_up .tu_controls").fadeOut(M);if(jQuery.ie){jQuery("#top_up .tu_close_link").hide();L.apply()}else{jQuery("#top_up .tu_close_link").fadeOut(M,L)}};var y=function(P){var O=function(){if(P){P.apply(this,[jQuery("#top_up .tu_content"),I])}if(q.onclose){q.onclose.apply(this,[jQuery("#top_up .tu_content"),I])}F();K("temp_up")};switch(q.effect){case"fade":jQuery("#top_up").fadeOut(b(300),O);break;case"clip":jQuery("#top_up").hide("clip",{direction:"vertical"},400,O);break;default:var M=jQuery(q.topUp);if(M.children().length>0){M=jQuery(M.children()[0])}var L=jQuery("#top_up").find(".tu_content");var N=q.topUp?jQuery.extend({width:M.outerWidth(),height:M.outerHeight()},M.offset()):{top:parseInt(jQuery(window).height()/2)+jQuery(window).scrollTop(),left:parseInt(jQuery(window).width()/2)+jQuery(window).scrollLeft(),width:10,height:10};v("to",N,O)}jQuery("#tu_overlay").hide()};return{host:scriptHost,images_path:"images/top_up/",data:I,init:function(){if(j){return false}try{jQuery(document).ready(function(){h();s();e();jQuery("#top_up").draggable({only:".tu_title,.tu_top *,.tu_bottom *"});jQuery.each(c,function(M,N){N.apply()})});jQuery(window).unload(function(){jQuery("*").unbind();jQuery("#top_up .tu_frame").resizable("destroy")});j=true}catch(L){}},defaultPreset:function(L){i=jQuery.extend(i,L)},addPresets:function(L){H=jQuery.extend(H,L)},ready:function(L){c.push(L)},rebind:function(){e()},displayTopUp:function(M,O){var N=jQuery(M).bubbleDetect(f);var L=o(N,jQuery.extend(O||{},{trigger:"#"+jQuery(M).id()}));TopUp.display(N.element.attr("href"),L)},display:function(L,M){if(t){return false}try{t=true;I={};z(L,M,true);a();J();u()}catch(N){t=false;alert("Sorry, but the following error occured:\n\n"+N)}},update:function(L){if(jQuery("#top_up").is(":hidden")){return}q.type="html";q.resize=jQuery("#temp_up .tu_content");jQuery(".tu_content").addClass("tu_scrollable");r(L||function(){})},previous:function(){E(-1)},next:function(){E(1)},overlayClose:function(){if(parseInt(q.overlayClose,10)==1){TopUp.close()}},close:function(L){if(jQuery("#top_up").is(":visible")){C(L)}}}}());(function(){if(typeof(jQuery)=="undefined"){var a=scriptElement.getAttribute("src").replace(/top_up(\-min)?\.js.*$/,"jquery.js");document.write('<script src="'+a+'" type="text/javascript" onload="TopUp.init()" onreadystatechange="TopUp.init()"><\/script>')}else{TopUp.init()}}())};